<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">  

    <PropertyGroup Condition="!Exists('$(IceSourceHome)')">
        <IceHome>C:\Program Files\ZeroC\Ice-3.4.2</IceHome>
        <IceInclude>$(IceHome)\include</IceInclude>
    </PropertyGroup>
    <PropertyGroup Condition="!Exists('$(IceSourceHome)') And '$(Platform)' == 'Win32' And '$(MinimumVisualStudioVersion)' == 10.0">
        <IceLib>$(IceHome)\lib\vc100</IceLib>
        <IceBin>$(IceHome)\bin\vc100</IceBin>
    </PropertyGroup>
    
    <PropertyGroup Condition="!Exists('$(IceSourceHome)') And '$(Platform)' != 'Win32' And '$(MinimumVisualStudioVersion)' == 10.0">
        <IceLib>$(IceHome)\lib\vc100\$(Platform)</IceLib>
        <IceBin>$(IceHome)\bin\vc100\$(Platform)</IceBin>
    </PropertyGroup>
    
    <PropertyGroup Condition="!Exists('$(IceSourceHome)') And '$(Platform)' == 'Win32' And '$(MinimumVisualStudioVersion)' == 11.0">
        <IceLib>$(IceHome)\lib\vc110</IceLib>
        <IceBin>$(IceHome)\bin\vc110</IceBin>
    </PropertyGroup>
    
    <PropertyGroup Condition="!Exists('$(IceSourceHome)') And '$(Platform)' != 'Win32' And '$(MinimumVisualStudioVersion)' == 11.0">
        <IceLib>$(IceHome)\lib\vc110\$(Platform)</IceLib>
        <IceBin>$(IceHome)\bin\vc110\$(Platform)</IceBin>
    </PropertyGroup>

    <PropertyGroup Condition="Exists('$(IceSourceHome)')">
        <IceHome>$(IceSourceHome)</IceHome>
        <IceInclude>$(IceSourceHome)\cpp\include</IceInclude>
        <IceLib>$(IceSourceHome)\cpp\lib</IceLib>
        <IceBin>$(IceSourceHome)\cpp\bin</IceBin>
    </PropertyGroup>
    
    <ItemGroup>
        <BuildMacro Include="IceHome">
            <Value>$(IceHome)</Value>
            <EnvironmentVariable>true</EnvironmentVariable>
        </BuildMacro>
        <BuildMacro Include="IceInclude">
            <Value>$(IceInclude)</Value>
            <EnvironmentVariable>true</EnvironmentVariable>
        </BuildMacro>
        <BuildMacro Include="IceLib">
            <Value>$(IceLib)</Value>
            <EnvironmentVariable>true</EnvironmentVariable>
        </BuildMacro>
        <BuildMacro Include="IceBin">
            <Value>$(IceBin)</Value>
            <EnvironmentVariable>true</EnvironmentVariable>
        </BuildMacro>
    </ItemGroup>
</Project>
