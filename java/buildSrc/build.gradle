sourceCompatibility = 1.7
targetCompatibility = 1.7

apply plugin: 'maven'

def pomName = "buildSrc.pom"
task writeNewPom {
    outputs.file file(pomName)
} << {
    pom {
        project {
            url 'https://www.zeroc.com'
            packaging 'jar'
            groupId 'com.zeroc.gradle.plugins'
            artifactId 'ice-gradle-plugin'
            version '3.6.0'
            // TODO: Extend with licensing information.
        }
    }.writeTo(pomName)
}
jar.dependsOn(writeNewPom)

task jarSources(type:Jar, dependsOn: jar){
    from sourceSets.main.allSource
    classifier = 'source'
}
build.dependsOn(jarSources)
