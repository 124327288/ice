<icegrid>

  <application name="Test" import-default-templates="true">

     <replica-group id="PublishReplicaGroup">
     </replica-group>

     <replica-group id="TopicManagerReplicaGroup">
       <object identity="Test.IceStorm/TopicManager" type="::IceStorm::TopicManager"/>
     </replica-group>

     <node name="localnode">
       <server-instance template="IceStorm-HA" node-id="1"
       	publish-replica-group="PublishReplicaGroup" topic-manager-replica-group="TopicManagerReplicaGroup"/>

      <icebox id="Test.IceStorm" exe="icebox" activation="on-demand">
        <service-instance template="IceStorm-HA"
			  node-id="2"
       	                  publish-replica-group="PublishReplicaGroup"
                          topic-manager-replica-group="TopicManagerReplicaGroup"/>
        <service-instance template="IceStorm-HA"
			  node-id="3"
       	                  publish-replica-group="PublishReplicaGroup"
                          topic-manager-replica-group="TopicManagerReplicaGroup"/>
      </icebox>
     </node>

  </application>

</icegrid>
