# **********************************************************************
#
# Copyright (c) 2002
# MutableRealms, Inc.
# Huntsville, AL, USA
#
# All Rights Reserved
#
# **********************************************************************

SHELL		= /bin/sh

VERSION		= 0.0.1

STLPORT		= $(HOME)/STLport-4.0
JTC		= $(HOME)/JTC-2.0.0b1/jtc

bindir		= $(top_srcdir)/bin
libdir		= $(top_srcdir)/lib
includedir	= $(top_srcdir)/include
slicedir	= $(top_srcdir)/slice

CXX		= c++
CXXFLAGS	= -g -ftemplate-depth-128 -fPIC -Wall
#CXXFLAGS	= -O -DNDEBUG -ftemplate-depth-128 -fPIC -Wall
CPPFLAGS	= -I. -I$(includedir) -I$(STLPORT)/stlport -I$(JTC)/include
LDFLAGS		= -L$(libdir) -L$(STLPORT)/lib -L$(JTC)/lib
BASELIBS	= -lstlport_gcc_debug -lJTC -lpthread
LIBS		= -lIce $(BASELIBS)
SLICE		= $(bindir)/slice2cpp
SLICE2DOCBOOK	= $(bindir)/slice2docbook

EVERYTHING	= all depend clean

.SUFFIXES:
.SUFFIXES:	.cpp .o

.cpp.o:
	$(CXX) -c $(CPPFLAGS) $(CXXFLAGS) $<

all:: $(SRCS) $(TARGETS)

depend:: $(SRCS)
	if test -n "$(SRCS)" ; then \
	    $(CXX) -DMAKEDEPEND -M $(CXXFLAGS) $(CPPFLAGS) $(SRCS) | \
	    $(top_srcdir)/config/makedepend.py > .depend; \
	fi

clean::
	-rm -f $(TARGETS)
	-rm -f core *.o *.bak
